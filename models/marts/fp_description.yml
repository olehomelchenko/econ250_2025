version: 2

models:
  - name: fct_fp_customer_behavior_analysis
    description: Customer behavior analysis including new vs returning customers and lifetime value
    columns:
      - name: customer_unique_id
        description: Unique customer identifier
      - name: customer_state
        description: Customer's state of residence
      - name: customer_type
        description: Customer segment (New, Repeat within 3 months, Loyal 3+ months)
      - name: value_segment
        description: Value tier (Top 10%, High Value, Medium Value, Low Value)
      - name: order_count
        description: Total number of orders placed by customer
      - name: lifetime_value
        description: Total revenue generated by customer
      - name: avg_order_value
        description: Average order value for customer
      - name: first_order_date
        description: Date of first purchase
      - name: last_order_date
        description: Date of most recent purchase
      - name: customer_duration_days
        description: Days between first and last order
      - name: orders_per_month
        description: Average monthly order frequency

  - name: fct_fp_order_performance_analysis
    description: Daily order performance metrics by status and region
    columns:
      - name: order_date
        description: Date of order
      - name: customer_state
        description: Customer's state
      - name: order_status
        description: Current order status
      - name: total_orders
        description: Count of distinct orders
      - name: total_revenue
        description: Sum of order values
      - name: avg_order_value
        description: Average revenue per order
      - name: total_items_sold
        description: Total quantity of items sold

  - name: fct_fp_product_performance
    description: Product category performance by month and region
    columns:
      - name: month
        description: Year-month in YYYY-MM format
      - name: product_category
        description: English product category name
      - name: customer_state
        description: State where products were purchased
      - name: orders_with_product
        description: Orders containing this product category
      - name: total_product_revenue
        description: Revenue from this product category
      - name: total_freight_value
        description: Shipping revenue for this category
      - name: avg_product_value_per_order
        description: Average revenue per order for this category
      - name: unique_customers
        description: Distinct customers who bought this category
      - name: total_units_sold
        description: Total quantity of products sold in this category